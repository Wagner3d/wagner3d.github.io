<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>

      @media screen and (max-width: 500px) {
        .card-width {
          width: 98%;
        }
      }
    </style>
  </head>
  <body>
	  <div class="row">
	  <button id="btnContatos" type="button" class="btn-success margin-top-small">
		Chamar Contatos
	  </button>
	  </div>
	  <div class="row">
	  <textarea class="form-control" id="txtAreaResult" name="txtAreaResult" rows="10"></textarea>
	  </div>
	  	  <div class="row">
	  <div id="alert" class="alert alert-danger"></div>
  </div>
  <script src="index.js"></script>
  </body>
  
   <script>
		   if ("contacts" in navigator) {

		  if ("select" in navigator.contacts) {
			
			const contacts = await navigator
			.contacts
			.select(
			  ['name', 'tel'],
			  {multiple: true}
			  );

			if (!contacts.length) {
			  return;
			}

			for (let i = 0; i < contacts.length; i++) {
			
			  console.log();
			
			}

		  } else {
			console.log('deu erro mas não sei pq, mas foi culpa do CAio');
		  }

		} else {
		  console.log('sem suporte a api bosta');
		}
   </script>
  
  <script>
		const btnContatos = document.querySelector('#btnContatos');
		const divAlerta = document.querySelector("#alert");

		btnContatos.addEventListener('click', async function (e) {
		  e.preventDefault();
		  if ("contacts" in navigator && "select" in navigator.contacts) {
			try {
			  const contacts = await navigator
			  .contacts
			  .select(
				['name', 'tel'],
				{multiple: true}
				);

			  if (!contacts.length) {
				return;
			  }

			$("txtAreaResult").html(contacts);
				
			} catch (e) {

			  divAlerta.innerHTML = "DEU UM ERRO NÂO FAÇO IDEIA DO QUE SEJA (CAGUEI)"
			  divAlerta.style.display = "block";

			}
		  } else {

			divAlerta.innerHTML = "SEU TELEFONE(NAVEGADOR) BOSTA NÃO TEM SUPORTE"

		  }
		})

  </script>
  
</html>
